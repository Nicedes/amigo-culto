<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Amigo Culto - Sorteio</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
  .container { max-width: 500px; margin: auto; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
  button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
</style>
</head>
<body>
<div class="container">
  <h1>Amigo Culto</h1>
  <p id="mensagem"></p>
</div>
<script>
const nomes = [
  "Andressa Fernandes da Silva",
  "Cris Alberto da Conceição de Lima",
  "Deuzamir José Bezerra",
  "Ellen Rodrigues de Freitas",
  "Emily Vitória Dias Barbosa",
  "Emily Vitória Tomaz de Pontes",
  "Felipe Gomes Macena da Paixão",
  "Gabrielli Rodrigues de Souza",
  "Gerdeson Manoel de Almeida Oliveira",
  "Hevellyn Christinny da Silva Costa",
  "Iago Roberto Guedes da Silva",
  "Igor Dias Gomes",
  "Jessica da Conceição Barbosa",
  "José Eduardo Soares da Silva Lima",
  "José Manoel Venâncio de Pontes",
  "Kauane Júlia Barbosa de Lima",
  "Kaylane Querino dos Santos",
  "Kayo Eduardo Santos de Sousa",
  "Ketly Raphaella Soares Costa",
  "Kevilly Maria",
  "Kelton Mark Araújo Marinho",
  "Leonildo Ferreira dos Santos",
  "Letícia Araújo Linhares",
  "Lívia Maria Firmino da Silva",
  "Luiz Benícius Lucindo da Silva",
  "Mª Clara Ataíde do Nascimento",
  "Maria Clara dos Santos Carvalho",
  "Maria Clara Oliveira de Lima",
  "Maria Eduarda Soares da Silva Lima",
  "Maria Heloíza Pereira da Silva",
  "Mariana Maria de Souza Cândido",
  "Marianni Cavalcanti da Silva",
  "Miguel Araújo Linhares",
  "Mikaelly Rodrigues da Silva",
  "Rafaela Galdino dos Santos",
  "Rafaella Vivian Bernardo dos Santos",
  "Thairis Rodrigues de Oliveira",
  "Thainara Rodrigues de Oliveira",
  "Thais Regina Estevam De Araújo",
  "Wemilly Vitória da Silva Reis"
];

function embaralhar(array) {
  let copia = [...array];
  for (let i = copia.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [copia[i], copia[j]] = [copia[j], copia[i]];
  }
  return copia;
}

// Sorteio sem que ninguém tire a si mesmo
function sortear(lista) {
  let sorteio;
  let valido = false;
  while (!valido) {
    sorteio = embaralhar(lista);
    valido = lista.every((nome, i) => nome !== sorteio[i]);
  }
  return sorteio;
}

const resultado = sortear(nomes);

// Gerar links únicos
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

if (id === null) {
  let links = "<h2>Links para enviar:</h2><ul>";
  nomes.forEach((nome, i) => {
    links += `<li>${nome}: <a href='?id=${i}'>Abrir link</a></li>`;
  });
  links += "</ul>";
  document.getElementById("mensagem").innerHTML = links;
} else {
  const indice = parseInt(id);
  if (indice >= 0 && indice < nomes.length) {
    document.getElementById("mensagem").innerHTML = `<strong>Você tirou:</strong><br>${resultado[indice]}`;
  } else {
    document.getElementById("mensagem").textContent = "ID inválido.";
  }
}
</script>
</body>
</html>
